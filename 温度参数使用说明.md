# 🌡️ 温度参数使用说明

## 功能概述

温度参数现已集成到SuperBirdID GUI中，你可以：
1. **选择温度值**：在高级选项中选择 0.4、0.5、0.6 或 0.7
2. **查看对比**：勾选"显示多温度对比"来同时查看4个温度的结果

## 温度值说明

### 🔥 T=0.4 (锐化)
- **特点**：置信度最高，结果最"自信"
- **优点**：高质量图片识别效果好，置信度显示清晰
- **缺点**：可能对模糊图片过于自信
- **适用场景**：专业摄影、高清图片

### ⚡ T=0.5 (推荐) ⭐
- **特点**：平衡的选择
- **优点**：
  - 高质量图片：~98%置信度
  - 困难图片：~20%置信度（真实反映不确定性）
- **适用场景**：大多数日常使用场景

### ⚖️ T=0.6 (平衡)
- **特点**：较为保守
- **优点**：不会过度自信
- **缺点**：即使确定的结果，置信度也相对较低
- **适用场景**：需要谨慎判断的场景

### 🛡️ T=0.7 (保守)
- **特点**：最保守的选择
- **优点**：给出更多可能性
- **缺点**：置信度普遍较低
- **适用场景**：图片质量差或需要更多候选结果

## 使用建议

### 快速开始
1. **默认使用 T=0.5**（已预设为默认值）
2. 如果结果不理想，尝试其他温度值

### 测试流程
1. 打开GUI，点击"⚙️ 高级选项"
2. 勾选"显示多温度对比"
3. 上传测试图片并识别
4. 查看温度对比表格，找出最适合的温度值
5. 取消勾选对比，选择最佳温度进行后续识别

### 对比表格说明
- 显示在识别结果下方
- 包含4行数据（T=0.4, 0.5, 0.6, 0.7）
- 每行显示Top-3鸟类及其置信度
- 仅供参考，以上方主结果为准

## 测试结果参考

### 高质量图片示例（cropped_bird.jpg）
```
T=0.4: 灰鵙鹟 99.81%
T=0.5: 灰鵙鹟 98.89%
T=0.6: 灰鵙鹟 95.33%
T=0.7: 灰鵙鹟 85.50%
```
**建议**：任何温度都可以，推荐0.5（置信度够高且不过度）

### 困难图片示例（thumb.jpg）
```
T=0.4: 金头扇尾莺 30.44% (Top2: 25.34%)
T=0.5: 金头扇尾莺 20.95% (Top2: 18.10%)
T=0.6: 金头扇尾莺 13.39% (Top2: 11.85%)
T=0.7: 金头扇尾莺  8.14% (Top2:  7.33%)
```
**建议**：
- 0.4: 看起来"更确定"，但可能误导
- 0.5: 显示20%，提示用户参考Top2（推荐）
- 0.6-0.7: 过于保守，置信度太低

## 技术细节

### 温度参数的作用
```python
probabilities = softmax(logits / temperature)
```
- **低温度**：放大logits差异，让高分更高，低分更低
- **高温度**：平滑logits差异，让概率分布更均匀

### 熵值分析
- **低熵** (<3)：模型很确定
- **中熵** (3-5)：模型有些不确定
- **高熵** (>5)：模型很不确定

### 性能影响
- 启用对比：额外计算4次softmax（耗时<10ms）
- 不影响主识别流程

## 常见问题

**Q: 为什么不同温度Top-1都一样？**
A: 说明模型很确定这个结果，温度只影响置信度数值

**Q: 什么时候需要换温度？**
A:
- 置信度普遍偏低但你觉得图片质量不错 → 试试0.4
- 置信度很高但结果明显错误 → 试试0.6或0.7查看其他选项

**Q: 对比模式会变慢吗？**
A: 几乎无影响，增加耗时<50ms

## 下一步优化方向

1. **自动温度**：根据图片质量自动选择温度
2. **温度范围扩展**：支持0.3-1.0的自定义温度
3. **温度推荐**：AI分析后推荐最佳温度

---
📅 更新时间: 2025-01-04
